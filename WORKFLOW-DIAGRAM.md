# ğŸ”„ Diagrama de Flujo del Workflow CI/CD

## Flujo Completo del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   REPOSITORIO: aplicaciones_laborales               â”‚
â”‚                          (Repositorio Fuente)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ 1. Genera PDF de CV
                                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Workflow: Generate CV   â”‚
                    â”‚     PDF completo         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â”‚ 2. Trigger automÃ¡tico
                                   â–¼
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
    â”ƒ       WORKFLOW: Copy CV PDF to Todas Mis Aplicaciones       â”ƒ
    â”ƒ              (TEMPLATE-copy-cv-from-source.yml)             â”ƒ
    â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
                                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                                              â”‚
            â–¼                                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Step 1:        â”‚                           â”‚ Step 2:        â”‚
    â”‚ Checkout repo  â”‚                           â”‚ Buscar PDF     â”‚
    â”‚ fuente         â”‚                           â”‚ generado       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                              â”‚
            â”‚                                              â”‚ ğŸ” Busca en:
            â”‚                                              â”‚ - output/
            â”‚                                              â”‚ - dist/
            â”‚                                              â”‚ - build/
            â”‚                                              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ âœ… ValidaciÃ³n  â”‚
                         â”‚ - Existe PDF?  â”‚
                         â”‚ - TamaÃ±o > 0?  â”‚
                         â”‚ - Es PDF?      â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ âŒ Error                    â”‚ âœ… OK
                    â”‚                             â”‚
                    â–¼                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Detener con    â”‚           â”‚ Step 3:        â”‚
            â”‚ mensaje claro  â”‚           â”‚ Extraer fecha  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚             â”‚             â”‚
                                    â–¼             â–¼             â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ Nombre   â”‚  â”‚ Commit   â”‚  â”‚ Fecha    â”‚
                            â”‚ archivo  â”‚  â”‚ message  â”‚  â”‚ actual   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚             â”‚             â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚ âœ… Validar     â”‚
                                         â”‚ YYYY-MM-DD     â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚ Step 4:        â”‚
                                         â”‚ Checkout repo  â”‚
                                         â”‚ destino con    â”‚
                                         â”‚ PAT token      â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              REPOSITORIO: todas-mis-aplicacionesâ”‚                             â”‚
â”‚                  (Repositorio Destino)          â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚ Step 5:        â”‚
                                         â”‚ Crear carpeta  â”‚
                                         â”‚ YYYY-MM-DD/    â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Â¿Archivo ya existe? â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚                     â”‚
                            âœ… SÃ­ â”‚                     â”‚ âŒ No
                                    â”‚                     â”‚
                                    â–¼                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Comparar checksum â”‚   â”‚ Copiar archivo â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ PDF            â”‚
                                    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                        â”‚                       â”‚       â”‚
                â–¼                       â–¼               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
        â”‚ IdÃ©ntico â”‚           â”‚ Diferenteâ”‚            â”‚
        â”‚ = Skip   â”‚           â”‚ = Backup â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                â”‚                       â”‚               â”‚
                â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                       â”‚
                â”‚                                       â–¼
                â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                              â”‚ âœ… Verificar   â”‚
                â”‚                              â”‚ integridad MD5 â”‚
                â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                       â”‚
                â”‚                                       â–¼
                â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                              â”‚ Crear README   â”‚
                â”‚                              â”‚ con metadata   â”‚
                â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                       â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ Step 6:        â”‚
                       â”‚ git add        â”‚
                       â”‚ git commit     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ git push       â”‚
                       â”‚ (con reintentos)â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                       â”‚
            âŒ Fallaâ”‚                       â”‚ âœ… Ã‰xito
                    â”‚                       â”‚
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Reintento    â”‚       â”‚ Step 7:        â”‚
            â”‚ (hasta 3x)   â”‚       â”‚ Log success    â”‚
            â”‚              â”‚       â”‚ + Resumen      â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                       â”‚
                    â”‚                       â–¼
                    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              â”‚ ğŸ“Š GitHub      â”‚
                    â”‚              â”‚ Actions        â”‚
                    â”‚              â”‚ Summary        â”‚
                    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                       â”‚
                    â–¼                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ âŒ Error     â”‚       â”‚ âœ… Completado  â”‚
            â”‚ final +      â”‚       â”‚                â”‚
            â”‚ logs         â”‚       â”‚ aplicaciones/  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ YYYY-MM-DD/    â”‚
                                   â”‚ â”œâ”€ CV.pdf      â”‚
                                   â”‚ â””â”€ README.md   â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Leyenda

| SÃ­mbolo | Significado |
|---------|-------------|
| â”â”â”â”“    | Workflow principal |
| â”Œâ”€â”€â”    | Paso/AcciÃ³n |
| â–¼       | Flujo secuencial |
| â”¼       | BifurcaciÃ³n/Opciones |
| âœ…      | ValidaciÃ³n exitosa |
| âŒ      | Error o validaciÃ³n fallida |
| ğŸ”      | BÃºsqueda/DetecciÃ³n |
| ğŸ“Š      | Reporte/Resumen |

## Puntos Clave del Flujo

### 1. DetecciÃ³n AutomÃ¡tica
- El workflow se activa al completar la generaciÃ³n del PDF
- No requiere intervenciÃ³n manual (tambiÃ©n soporta ejecuciÃ³n manual)

### 2. Validaciones MÃºltiples
- Existencia del archivo
- TamaÃ±o mayor a 0
- Formato PDF vÃ¡lido
- Formato de fecha correcto
- Integridad del archivo (checksum)

### 3. Manejo Inteligente de Duplicados
- Compara checksums
- Skip si es idÃ©ntico
- Backup automÃ¡tico si es diferente
- Preserva historial

### 4. RecuperaciÃ³n de Errores
- Reintentos automÃ¡ticos en push (hasta 3)
- Pull rebase en caso de conflicto
- Mensajes de error claros
- Logs detallados para debugging

### 5. AuditorÃ­a Completa
- Logs en cada paso
- Referencias a commits de origen
- Checksums para verificaciÃ³n
- Metadata en README
- Resumen visual en GitHub Actions

## Ejemplo de EjecuciÃ³n Exitosa

```
ğŸ” Buscando archivo PDF de la hoja de vida generada...
âœ… PDF encontrado: ./output/cv_juan_perez.pdf
ğŸ“Š TamaÃ±o del archivo: 245678 bytes
âœ… Archivo PDF validado correctamente

ğŸ“… Fecha extraÃ­da del nombre del archivo: 2025-01-15
âœ… Fecha validada: 2025-01-15

ğŸ“ Creando carpeta para la fecha: 2025-01-15
ğŸ“„ Copiando PDF: cv_juan_perez.pdf
âœ… Archivo copiado y verificado exitosamente
ğŸ“ UbicaciÃ³n: todas-mis-aplicaciones/aplicaciones/2025-01-15/cv_juan_perez.pdf
ğŸ” Checksum: a1b2c3d4e5f6...
ğŸ“ README.md creado

ğŸ“Š Estado del repositorio:
On branch main
Changes to be committed:
  new file:   aplicaciones/2025-01-15/cv_juan_perez.pdf
  new file:   aplicaciones/2025-01-15/README.md

ğŸ“ Archivos a commitear:
aplicaciones/2025-01-15/cv_juan_perez.pdf
aplicaciones/2025-01-15/README.md

â¬†ï¸ Enviando cambios al repositorio todas-mis-aplicaciones...
âœ… Push exitoso
âœ… Proceso completado exitosamente

====================================
âœ… PROCESO COMPLETADO EXITOSAMENTE
====================================
Archivo: cv_juan_perez.pdf
Fecha: 2025-01-15
Destino: aplicaciones/2025-01-15/
Estado: Archivo nuevo copiado y commiteado
====================================
```

## Tiempo de EjecuciÃ³n Estimado

| Fase | Tiempo |
|------|--------|
| Checkout repositorio fuente | ~5s |
| BÃºsqueda de PDF | ~2s |
| Validaciones | ~1s |
| Checkout repositorio destino | ~5s |
| Copia de archivo | ~1s |
| Commit y Push | ~3s |
| **Total** | **~17s** |

*Nota: Los tiempos pueden variar segÃºn el tamaÃ±o del archivo y la carga de GitHub Actions.*

## Referencias

- DocumentaciÃ³n completa: [README-WORKFLOW.md](README-WORKFLOW.md)
- GuÃ­a rÃ¡pida: [QUICKSTART.md](QUICKSTART.md)
- Resumen de implementaciÃ³n: [IMPLEMENTATION-SUMMARY.md](IMPLEMENTATION-SUMMARY.md)
